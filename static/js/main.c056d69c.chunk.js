(this["webpackJsonpgoit-react-hw-09-phonebook_final"]=this["webpackJsonpgoit-react-hw-09-phonebook_final"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g}));var r=n(18),a=n.n(r),c=n(24),o=n(20),u=n.n(o),i=n(3);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(e){u.a.defaults.headers.common.Authorization="Bearer ".concat(e)},l=function(){u.a.defaults.headers.common.Authorization=""},b={register:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.registerRequest()),t.prev=1,t.next=4,u.a.post("/users/signup",e);case 4:r=t.sent,c=r.data,s(c.token),n(i.a.registerSuccess(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.registerError(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(i.a.logoutRequest());try{u.a.post("/users/logout"),l(),t(i.a.logoutSuccess())}catch(n){t(i.a.logoutError(n))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i.a.loginRequest()),t.prev=1,t.next=4,u.a.post("/users/login",e);case 4:r=t.sent,c=r.data,s(c.token),n(i.a.loginSuccess(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(i.a.loginError(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),c=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return s(c),t(i.a.getCurrentUserRequest()),e.prev=5,e.next=8,u.a.get("/users/current");case 8:o=e.sent,l=o.data,t(i.a.getCurrentUserSuccess(l)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),t(i.a.getCurrentUserError(e.t0));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()}},g={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name}};n(29)},11:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d}));var r=n(1),a=Object(r.b)("contact/contactFetchRequest"),c=Object(r.b)("contact/contactFetchSuccess"),o=Object(r.b)("contact/contactFetchSucces"),u=Object(r.b)("contact/contactAddRequest"),i=Object(r.b)("contact/contactAddSuccess"),s=Object(r.b)("contact/contactAddSucces"),l=Object(r.b)("contact/contactRemoveAddRequest"),b=Object(r.b)("contact/contactRemoveAddSuccess"),g=Object(r.b)("contact/contactRemoveAddSucces"),m=Object(r.b)("contact/changeFilter"),f=Object(r.b)("contact/changeTheme"),d=Object(r.b)("contact/overlapToggle")},16:function(e,t,n){e.exports={menu_navigation:"Navigation_menu_navigation__1rrKQ",menu_link:"Navigation_menu_link__3mp3V",menu_ActiveLink:"Navigation_menu_ActiveLink__4jljU"}},22:function(e,t,n){"use strict";t.a={light:{headerBg:"#d2e0e3",fontColor:"#2a5c69",bodybg:"#9ab7ba"},dark:{headerBg:"#3c3c3c",fontColor:"white",bodybg:"black"}}},25:function(e,t,n){e.exports={theme_selector:"Header_theme_selector__2G-Le",label:"Header_label__3Q0eX",switch:"Header_switch__3QEQc",slider:"Header_slider__3H1FT"}},26:function(e,t,n){"use strict";var r=n(13),a=function(e){return e.contacts.items},c=function(e){return e.contacts.filter},o=Object(r.a)([a,c],(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),u=Object(r.a)([function(e,t){return t},a],(function(e,t){return t.find((function(t){return t.id===e}))}));t.a={getContacts:a,getError:function(e){return e.contacts.error},getTheme:function(e){return e.themePhonebook.theme},getFilter:c,getOverlap:function(e){return e.contacts.overlap},getVisibleTasks:o,getContactById:u}},29:function(e,t,n){"use strict";var r,a,c,o=n(4),u=n(6),i=n(1),s=n(3),l={name:null,email:null},b=Object(i.c)(l,(r={},Object(o.a)(r,s.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,s.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,s.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(o.a)(r,s.a.logoutSuccess,(function(){return l})),r)),g=Object(i.c)(null,(a={},Object(o.a)(a,s.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,s.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,s.a.logoutSuccess,(function(){return null})),a)),m=Object(i.c)(null,(c={},Object(o.a)(c,s.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.getCurrentUserError,(function(e,t){return t.payload})),c));t.a=Object(u.c)({user:b,token:g,error:m})},3:function(e,t,n){"use strict";var r=n(1),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),s=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),g=Object(r.b)("auth/logoutError"),m=Object(r.b)("auth/getCurrentUserRequest"),f=Object(r.b)("auth/getCurrentUserSuccess"),d=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:o,logoutRequest:l,logoutSuccess:b,logoutError:g,loginRequest:u,loginSuccess:i,loginError:s,getCurrentUserRequest:m,getCurrentUserSuccess:f,getCurrentUserError:d}},39:function(e,t,n){"use strict";var r,a,c=n(4),o=n(54),u=n(6),i=n(1),s=n(11),l=function(e,t){var n=t.payload;return n||null},b=Object(i.c)([],(r={},Object(c.a)(r,s.f,(function(e,t){return t.payload})),Object(c.a)(r,s.c,(function(e,t){var n=t.payload;return[].concat(Object(o.a)(e),[n])})),Object(c.a)(r,s.l,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),g=Object(i.c)("",Object(c.a)({},s.g,(function(e,t){return t.payload}))),m=Object(i.c)(null,(a={},Object(c.a)(a,s.d,l),Object(c.a)(a,s.a,l),Object(c.a)(a,s.j,l),a)),f=Object(i.c)(!1,Object(c.a)({},s.i,(function(e){return!e})));t.a=Object(u.c)({items:b,filter:g,error:m,overlap:f})},53:function(e,t,n){e.exports={body:"Body_body__1UYYF"}},55:function(e,t,n){e.exports=n(86)},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(27),o=n.n(c),u=n(7),i=n(51),s=n(1),l=n(19),b=n(52),g=n.n(b),m=n(39),f=n(4),d=n(6),h=n(11),p=Object(s.c)("light",Object(f.a)({},h.h,(function(e,t){return t.payload?"dark":"light"}))),j=Object(d.c)({theme:p}),O=n(29),v={key:"auth",storage:g.a,whitelist:["token"]},k=Object(s.a)({reducer:{contacts:m.a,themePhonebook:j,auth:Object(l.g)(v,O.a)},middleware:Object(s.d)({serializableCheck:{ignoredActions:[l.a,l.f,l.b,l.c,l.d,l.e]}})}),E=Object(l.h)(k),y=n(35),_=n(36),A=n(38),C=n(37),S=n(10),x=n(17),w=n(5),R=[{path:"/goit-react-hw-09-phonebook_final/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return n.e(7).then(n.bind(null,101))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return n.e(5).then(n.bind(null,102))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return n.e(4).then(n.bind(null,103))})),private:!1,restricted:!1},{path:"/phonebook",label:"Phonebook",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,104))})),private:!0,restricted:!1}],U=n(30),N=Object(u.b)((function(e){return{isAuthenticated:S.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(U.a)(e,["component","isAuthenticated"]);return a.a.createElement(w.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(w.a,{to:"/login"})}}))})),L=Object(u.b)((function(e){return{isAuthenticated:S.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(U.a)(e,["component","isAuthenticated"]);return a.a.createElement(w.b,Object.assign({},r,{render:function(e){return n&&r.restricted?a.a.createElement(w.a,{to:"/phonebook"}):a.a.createElement(t,e)}}))})),q=n(26),T=n(22),F=n(25),z=n.n(F),B=n(16),H=n.n(B),P=Object(u.b)((function(e){return{isAuthenticated:S.b.isAuthenticated(e)}}),null)((function(e){var t=e.isAuthenticated;return a.a.createElement("nav",{className:H.a.menu_navigation},a.a.createElement(x.b,{to:"/goit-react-hw-09-phonebook_final/",exact:!0,className:H.a.menu_link,activeClassName:H.a.menu_ActiveLink},"Home"),t?a.a.createElement(x.b,{to:"/phonebook",exact:!0,className:H.a.menu_link,activeClassName:H.a.menu_ActiveLink},"Phonebook"):a.a.createElement(a.a.Fragment,null," ",a.a.createElement(x.b,{to:"/register",exact:!0,className:H.a.menu_link,activeClassName:H.a.menu_ActiveLink},"Register"),a.a.createElement(x.b,{to:"/login",exact:!0,className:H.a.menu_link,activeClassName:H.a.menu_ActiveLink},"Login")))})),I={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},Q={onLogout:S.a.logOut},J=Object(u.b)((function(e){return{name:S.b.getUserName(e),avatar:"https://icon-library.net/images/avatar-icon-images/avatar-icon-images-10.jpg"}}),Q)((function(e){var t=e.avatar,n=e.name,r=e.onLogout;return a.a.createElement("div",{style:I.container},a.a.createElement("img",{src:t,alt:"",width:"32",style:I.avatar}),a.a.createElement("span",{style:I.name},"Welcome, ",n),a.a.createElement("button",{type:"button",onClick:r},"Logout"))})),V={toggleTheme:h.h},W=Object(u.b)((function(e){return{theme:q.a.getTheme(e),isAuthenticated:S.b.isAuthenticated(e)}}),V)((function(e){var t=e.theme,n=e.toggleTheme,r=e.isAuthenticated;return a.a.createElement("header",{style:{background:T.a[t].headerBg,color:T.a[t].fontColor}},a.a.createElement(P,null),r&&a.a.createElement(J,null),a.a.createElement("div",{className:z.a.theme_selector},a.a.createElement("span",{className:z.a.label},"Toggle theme: ","",t),a.a.createElement("label",{className:z.a.switch},a.a.createElement("input",{type:"checkbox",onChange:function(e){var t=e.currentTarget;return n(t.checked)}}),a.a.createElement("span",{className:z.a.slider}))))})),Y=n(53),D=n.n(Y),G=Object(u.b)((function(e){return{theme:q.a.getTheme(e)}}),null)((function(e){var t=e.theme,n=e.children;return a.a.createElement("div",{className:D.a.body,style:{color:T.a[t].fontColor,background:T.a[t].bodybg}},n)})),K=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(_.a)(n,[{key:"componentDidMount",value:function(){this.props.getUser()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(x.a,null,a.a.createElement(W,null),a.a.createElement(G,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement("h1",{style:{margin:"0"}},"Loading...")},a.a.createElement(w.d,null,R.map((function(e){return e.private?a.a.createElement(N,Object.assign({key:e.label},e)):a.a.createElement(L,Object.assign({key:e.label},e))})))))))}}]),n}(r.Component),M=Object(u.b)(null,{getUser:S.a.getCurrentUser})(K);n(85);o.a.render(a.a.createElement(u.a,{store:k},a.a.createElement(i.a,{loading:null,persistor:E},a.a.createElement(M,null))),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.c056d69c.chunk.js.map